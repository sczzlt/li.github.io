<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title></title>
<meta name="viewport" content="width=device-width,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="wap-font-scale" content="no" />
<meta name="referrer" content="no-referrer" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<style>
        .container {
            width: 60%;
            margin: 10% auto 0;
            background-color: #f0f0f0;
            padding: 2% 5%;
            text-align: center;
            border-radius: 10px
        }
    </style>
</head>
<body>
<div class="container" id="rid" style="display: none;">
  <p id="Zl"></p>
</div>
</body>
<script src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/jquery/2.1.4/jquery.min.js"></script>
<script>

 var url = window.document.location.href.toString();
  var u = url.split("?");
  var id = u[1].replace("=", "");

if (id) {
  // 构建API请求URL
  const apiUrl = `https://a.5865865.xyz/api.php?act=geturl9&id=${id}`;

  // 创建XMLHttpRequest对象
  const xhr = new XMLHttpRequest();

  // 指定请求方法和请求URL
  xhr.open('GET', apiUrl);

  // 设置请求最长等待时间
  const maxRequestTime = 10000; // 10秒
  xhr.timeout = maxRequestTime;

  // 指定API响应处理函数
  xhr.onload = function() {
    if (xhr.code !== "") {
      // 如果API响应成功，则解析响应并获取链接
      const response = JSON.parse(xhr.responseText);
      var url = decodeURIComponent(atob(response.url)); 
	  
      //console.log(url);
      //无来源跳转
       var iff =document.createElement('iframe');
  	   iff.style='display:none';
	    document.body.appendChild(iff).src='javascript:\"<script>top.location.replace(\''+url+'\')<\/script>\"';
	  //无来源跳转
    } else {
      cw()
    }
  };

  // 指定请求超时处理函数
  xhr.ontimeout = function() {
    console.error('API request timed out after ' + maxRequestTime + ' milliseconds.');
  };

  // 发送API请求
  xhr.send();
}else {
    cw()
    }

 function cw() {
         $("#rid").css('display', 'block');
         $('#Zl').html("<h3>网址错误</h3><br>请检查网址是否正确.");   //给html传递内容
        }


</script>
</html>
